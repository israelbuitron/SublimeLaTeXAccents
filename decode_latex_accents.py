# coding=utf-8
import sublime, sublime_plugin
import re

class DecodeLatexAccentsCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		# take all the document text and put it in 'ducument' string
		region = sublime.Region(0, self.view.size())
		document = self.view.substr(region)
		# replace all
		for key in latex_read_dict:
			document = document.replace(key,latex_read_dict[key])
		# and make the replacement
		edit = self.view.begin_edit()
		self.view.replace(edit, region, document) 
		self.view.end_edit(edit)

latex_read_dict = {
"{!`}" : u"¡",
"{\\pounds}" : u"£",
"{\\S}" : u"§",
"{\\copyright}" : u"©",
"{\\pm}" : u"±",
"{\\P}" : u"¶",
"{\\cdot}" : u"·",
"{?`}" : u"¿",
"{\\div}" : u"÷",
"{\\times}" : u"×",
"{\\o}" : u"ø",
"{\\O}" : u"Ø",
"{\\`A}" : u"À",
"{\\'A}" : u"Á",
"{\\^A}" : u"Â",
"{\\~A}" : u"Ã",
"{\\\"A}" : u"Ä",
"{\\AA}" : u"Å",
"{\\AE}" : u"Æ",
"{\\c{C}}" : u"Ç",
"{\\`E}" : u"È",
"{\\'E}" : u"É",
"{\\^E}" : u"Ê",
"{\\\"E}" : u"Ë",
"{\\`I}" : u"Ì",
"{\\'I}" : u"Í",
"{\\^I}" : u"Î",
"{\\\"I}" : u"Ï",
"{\\~N}" : u"Ñ",
"{\\`O}" : u"Ò",
"{\\'O}" : u"Ó",
"{\\^O}" : u"Ô",
"{\\~O}" : u"Õ",
"{\\\"O}" : u"Ö",
"{\\`U}" : u"Ù",
"{\\'U}" : u"Ú",
"{\\^U}" : u"Û",
"{\\\"U}" : u"Ü",
"{\\'Y}" : u"Ý",
"{\\ss}" : u"ß",
"{\\`a}" : u"à",
"{\\'a}" : u"á",
"{\\^a}" : u"â",
"{\\~a}" : u"ã",
"{\\\"a}" : u"ä",
"{\\aa}" : u"å",
"{\\ae}" : u"æ",
"{\\c{c}}" : u"ç",
"{\\`e}" : u"è",
"{\\'e}" : u"é",
"{\\^e}" : u"ê",
"{\\\"e}" : u"ë",
"{\\`\\i}" : u"ì",
"{\\'\\i}" : u"í",
"{\\^\\i}" : u"î",
"{\\\"\\i}" : u"ï",
"{\\~n}" : u"ñ",
"{\\`o}" : u"ò",
"{\\'o}" : u"ó",
"{\\^o}" : u"ô",
"{\\~o}" : u"õ",
"{\\\"o}" : u"ö",
"{\\`u}" : u"ù",
"{\\'u}" : u"ú",
"{\\^u}" : u"û",
"{\\\"u}" : u"ü",
"{\\'y}" : u"ý",
"{\\\"y}" : u"ÿ",
"\\`{A}" : u"À",
"\\'{A}" : u"Á",
"\\^{A}" : u"Â",
"\\~{A}" : u"Ã",
"\\\"{A}" : u"Ä",
"\\`{E}" : u"È",
"\\'{E}" : u"É",
"\\^{E}" : u"Ê",
"\\\"{E}" : u"Ë",
"\\c{C}" : u"Ç",
"\\`{I}" : u"Ì",
"\\'{I}" : u"Í",
"\\^{I}" : u"Î",
"\\\"{I}" : u"Ï",
"\\~{N}" : u"Ñ",
"\\`{O}" : u"Ò",
"\\'{O}" : u"Ó",
"\\^{O}" : u"Ô",
"\\~{O}" : u"Õ",
"\\\"{O}" : u"Ö",
"\\`{U}" : u"Ù",
"\\'{U}" : u"Ú",
"\\^{U}" : u"Û",
"\\\"{U}" : u"Ü",
"\\'{Y}" : u"Ý",
"\\`{a}" : u"à",
"\\'{a}" : u"á",
"\\^{a}" : u"â",
"\\~{a}" : u"ã",
"\\\"{a}" : u"ä",
"\\c{c}" : u"ç",
"\\`{e}" : u"è",
"\\'{e}" : u"é",
"\\^{e}" : u"ê",
"\\\"{e}" : u"ë",
"\\`{\\i}" : u"ì",
"\\'{\\i}" : u"í",
"\\^{\\i}" : u"î",
"\\\"{\\i}" : u"ï",
"\\~{n}" : u"ñ",
"\\`{o}" : u"ò",
"\\'{o}" : u"ó",
"\\^{o}" : u"ô",
"\\~{o}" : u"õ",
"\\\"{o}" : u"ö",
"\\`{u}" : u"ù",
"\\'{u}" : u"ú",
"\\^{u}" : u"û",
"\\\"{u}" : u"ü",
"\\'{y}" : u"ý",
"\\\"{y}" : u"ÿ",
"\\`A" : u"À",
"\\'A" : u"Á",
"\\^A" : u"Â",
"\\~A" : u"Ã",
"\\\"A" : u"Ä",
"\\`E" : u"È",
"\\'E" : u"É",
"\\^E" : u"Ê",
"\\\"E" : u"Ë",
"\\`I" : u"Ì",
"\\'I" : u"Í",
"\\^I" : u"Î",
"\\\"I" : u"Ï",
"\\~N" : u"Ñ",
"\\`O" : u"Ò",
"\\'O" : u"Ó",
"\\^O" : u"Ô",
"\\~O" : u"Õ",
"\\\"O" : u"Ö",
"\\`U" : u"Ù",
"\\'U" : u"Ú",
"\\^U" : u"Û",
"\\\"U" : u"Ü",
"\\'Y" : u"Ý",
"\\`a" : u"à",
"\\'a" : u"á",
"\\^a" : u"â",
"\\~a" : u"ã",
"\\\"a" : u"ä",
"\\`e" : u"è",
"\\'e" : u"é",
"\\^e" : u"ê",
"\\\"e" : u"ë",
"\\`\\i" : u"ì",
"\\'\\i" : u"í",
"\\^\\i" : u"î",
"\\\"\\i" : u"ï",
"\\~n" : u"ñ",
"\\`o" : u"ò",
"\\'o" : u"ó",
"\\^o" : u"ô",
"\\~o" : u"õ",
"\\\"o" : u"ö",
"\\`u" : u"ù",
"\\'u" : u"ú",
"\\^u" : u"û",
"\\\"u" : u"ü",
"\\'y" : u"ý",
"\\\"y" : u"ÿ"
}


